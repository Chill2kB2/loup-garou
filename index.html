<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="theme-color" content="#07090d" />
  <title>Loup-Garou / Murder ‚Äî Accueil</title>

  <!-- Pas de favicon 404 -->
  <link rel="icon" href="data:," />

  <link rel="stylesheet" href="style.css" />
</head>
<body class="app app-home">
  <main class="home">
    <header class="home__header">
      <div class="brand">
        <div class="brand__dot"></div>
        <div>
          <div class="brand__title">Loup-Garou / Murder</div>
          <div class="brand__sub">Lobby en ligne + Salon 3D (Hub)</div>
        </div>
      </div>
    </header>

    <section class="panel panel--hero">
      <h1 class="h1">Bienvenue üëã</h1>
      <p class="p">
        Choisis un pseudo. Tu peux rejoindre le Lobby (multijoueur) ou le Salon 3D (Hub) pour te balader et tester tes skins.
      </p>

      <div class="grid2">
        <div class="field">
          <label class="label" for="nick">Pseudo</label>
          <input id="nick" class="input" type="text" maxlength="16" placeholder="Ex: Stan" autocomplete="nickname" />
          <div class="hint">Ton pseudo est sauvegard√© localement.</div>
        </div>
        <div class="field">
          <label class="label" for="room">Code salon (optionnel)</label>
          <input id="room" class="input" type="text" maxlength="12" placeholder="Ex: ABC123" autocomplete="off" />
          <div class="hint">Uniquement utile pour le Lobby si tu l‚Äôutilises.</div>
        </div>
      </div>

      <div class="row">
        <button id="btnLobby" class="btn btn--primary">Jouer en ligne (Lobby)</button>
        <button id="btnHub" class="btn btn--ghost">Salon (Hub 3D)</button>
      </div>

      <div class="sep"></div>

      <div class="cards">
        <div class="card">
          <div class="card__title">Contr√¥les (Hub)</div>
          <div class="card__text">
            ZQSD / Fl√®ches ‚Ä¢ Sprint: Shift ‚Ä¢ Saut: Espace ‚Ä¢ Accroupi: Ctrl ‚Ä¢ Pause: √âchap ‚Ä¢ Joystick: bouton ‚ÄúJoystick‚Äù
          </div>
        </div>
        <div class="card">
          <div class="card__title">Mobile</div>
          <div class="card__text">
            Deux joysticks (d√©placement + cam√©ra), bouton saut. Le menu pause est accessible via l‚Äôic√¥ne en haut √† droite.
          </div>
        </div>
      </div>
    </section>

    <footer class="home__footer">
      <div class="muted">¬© Prototype ‚Äî Loup-Garou</div>
      <div class="muted">Conseil : lance toujours via serveur local (pas file://).</div>
    </footer>
  </main>

  <script>
    (function(){
      const nick = document.getElementById("nick");
      const room = document.getElementById("room");
      const btnLobby = document.getElementById("btnLobby");
      const btnHub = document.getElementById("btnHub");

      nick.value = localStorage.getItem("lg_name") || "";
      room.value = localStorage.getItem("lg_room") || "";

      function getName(){
        const v = (nick.value || "").trim();
        return v.length ? v : "Joueur";
      }
      function save(){
        localStorage.setItem("lg_name", getName());
        localStorage.setItem("lg_room", (room.value || "").trim());
      }

      btnHub.addEventListener("click", () => {
        save();
        const url = new URL("hub_world.html", location.href);
        url.searchParams.set("name", getName());
        location.href = url.toString();
      });

      btnLobby.addEventListener("click", () => {
        save();
        // Si ton lobby est sur lg.html (comme dans ton repo), on y va.
        // Sinon tu peux renommer ici.
        const url = new URL("lg.html", location.href);
        url.searchParams.set("name", getName());
        const code = (room.value || "").trim();
        if (code) url.searchParams.set("room", code);
        location.href = url.toString();
      });
    })();
  </script>
</body>
</html>
